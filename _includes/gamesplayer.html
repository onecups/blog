<div id="player-container">
  <div class="fluid">
    <div id="game-preview">
      <div class="overlay"></div>
      <div class="desc-container" id="desc-container">
        <img alt="{{ include.title }}" src="{{ include.image }}">
        <span>{{ include.title }}</span>
      </div>
      <div class="button-container">
        <button id="play-game-button" data-width="100%" data-height="500px">
          Play NOW
          <span><svg class="icon play-spg"></svg></span>
        </button>
      </div>
    </div>

    <iframe id="game-frame"
      data-src="{{ include.src }}"
      loading="lazy"
      class="embed-responsive-item entered"
      sandbox="allow-same-origin allow-scripts"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen
      scrolling="no"></iframe>
  </div>

  <div id="controls">
    <ul>
      <li class="dnmo weba"><a href="https://www.trendio.homes/category/game/"><span class="icon inicio"></span></a></li>
      <li class="dnmo"><span class="icon refresh" onclick="location.reload()"></span></li>
      <li class="dnmo"><span id="fullscreen-button" class="icon fullscreen-button disabled"></span></li>
    </ul>
  </div>
</div>

<style>#player-container{padding:10px;-webkit-box-shadow:0 1px 3px 0 #000000ba 0 0 18px 0 #0000001a;border-radius:7px;overflow:hidden;background-color:var(--rgba-gray)}.fluid{position:relative;width:100%;padding-top:76.25%;border-radius:15px;overflow:hidden;background-color:#000;margin-bottom:15px}.fluid iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none}#game-preview{position:absolute;top:0;left:0;width:100%;height:100%;background:#0c0d14d9;backdrop-filter:blur(6px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;border-radius:15px;transition:opacity .3s ease}#game-preview .overlay{display:none}#game-preview .desc-container{padding:1px;color:#fff;text-align:center;z-index:1;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:5px 0}#game-preview img{position:relative;width:150px;height:150px;margin:auto auto 5px;border-radius:10px;overflow:hidden;border:2px solid hsla(0,0%,100%,.8);box-shadow:inset 0 5px 5px #00000080 0 2px 4px #0000004d;background-image:var(--thumb);background-position:50%;background-size:cover}#game-preview .desc-container{color:#fff;text-align:center}#game-preview span{font-size:20px;font-weight:600}#game-preview .button-container{display:flex;align-items:center;justify-content:center;z-index:1}#game-preview button span{background-color:#039be5;display:grid;position:absolute;right:0;place-items:center;width:3rem;height:100%}#game-preview button span svg{width:1.5rem;height:1.5rem}#game-preview button{max-width:320px;display:flex;overflow:hidden;position:relative;padding:.875rem 72px .875rem 1.75rem;background-color:#039be5;background-image:linear-gradient(to top right,#039be5,#29b6f6);color:#fff;font-size:15px;line-height:1.25rem;font-weight:700;text-align:center;text-transform:uppercase;vertical-align:middle;align-items:center;border-radius:.5rem;gap:.75rem;box-shadow:0 4px 6px -1px #0000001a 0 2px 4px -1px #0000000f;border:none;transition:all .6s ease}#play-game-button:hover{transform:scale(1.05)}#controls{margin-top:10px;text-align:right}#controls ul li{background-color:#e1e7f2;width:36px;height:36px;display:grid;place-items:center;border-radius:6px;cursor:pointer}#controls ul{margin:0;padding:0;list-style:none}#controls ul li:before{display:none}#controls ul li.weba{float:left}#controls ul li{float:right}.icon{width:20px;height:20px;background-size:100% 100%;background-repeat:no-repeat;background-position:center}.refresh,.inicio,.fullscreen-button{width:20px;height:20px;display:table;margin:7px auto;background-size:100% 100%}.dnmo{height:34px;width:34px;padding:0!important;display:grid;background-color:var(--gray-bg);margin-right:6px!important;border-radius:var(--main-radius);float:left}.inicio{background-image:url("data:image/svg+xml;charset=utf8,<svg fill='black' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6 23h-3v-10l9-8 9 8v10h-3v-9h-12v9zm1-2h10v2h-10v-2zm0-3h10v2h-10v-2zm10-3v2h-10v-2h10zm-5-14.03l12 10.66-1.33 1.49-10.67-9.48-10.67 9.48-1.33-1.49 12-10.66z'/></svg>")}.refresh{background-image:url("data:image/svg+xml;charset=utf8,<svg fill='black' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M13.5 2c-5.62 0-10.21 4.44-10.48 10h-3.02l5 6.62 5-6.62h-2.98c.26-3.35 3.06-6 6.48-6 3.58 0 6.5 2.91 6.5 6.5s-2.92 6.5-6.5 6.5c-1.86 0-3.54-.79-4.73-2.05l-2.43 3.22c1.88 1.75 4.39 2.84 7.16 2.84 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z'/></svg>")}.fullscreen-button{background-image:url("data:image/svg+xml;charset=utf8,<svg fill='black' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M4 2c-1.1 0-2 .9-2 2v4c0 .55.45 1 1 1s1-.45 1-1v-2.59l3.79 3.8c.39.39 1.03.39 1.42 0s.39-1.03 0-1.42l-3.8-3.79h2.59c.55 0 1-.45 1-1s-.45-1-1-1h-4zm16 0c1.1 0 2 .9 2 2v4c0 .55-.45 1-1 1s-1-.45-1-1v-2.59l-3.79 3.8c-.39.39-1.03.39-1.42 0s-.39-1.03 0-1.42l3.8-3.79h-2.59c-.55 0-1-.45-1-1s.45-1 1-1h4zm-4 20h4c1.1 0 2-.9 2-2v-4c0-.55-.45-1-1-1s-1 .45-1 1v2.59l-3.79-3.8c-.39-.39-1.03-.39-1.42 0s-.39 1.03 0 1.42l3.8 3.79h-2.59c-.55 0-1 .45-1 1s.45 1 1 1zm-12 0h4c.55 0 1-.45 1-1s-.45-1-1-1h-2.59l3.79-3.79c.39-.39.39-1.03 0-1.42s-1.03-.39-1.42 0l-3.79 3.8v-2.59c0-.55-.45-1-1-1s-1 .45-1 1v4c0 1.1.9 2 2 2z'/></svg>")}.play-spg{background-image:url("data:image/svg+xml;charset=utf8,<svg fill='white' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 408.221 408.221'><path d='M204.11,0C91.388,0,0,91.388,0,204.111c0,112.725,91.388,204.11,204.11,204.11c112.729,0,204.11-91.385,204.11-204.11 C408.221,91.388,316.839,0,204.11,0z M286.547,229.971l-126.368,72.471c-17.003,9.75-30.781,1.763-30.781-17.834V140.012 c0-19.602,13.777-27.575,30.781-17.827l126.368,72.466C303.551,204.403,303.551,220.217,286.547,229.971z'/></svg>")}#fullscreen-button.disabled {opacity: 0.5;pointer-events: none;cursor: not-allowed;}
</style>

<script>
document.getElementById("play-game-button").addEventListener("click", function () {
  document.getElementById("game-preview").style.display = "none";

  const iframe = document.getElementById("game-frame");
  iframe.src = iframe.getAttribute("data-src");
  const fullscreenButton = document.getElementById("fullscreen-button");
  fullscreenButton.classList.remove("disabled");
  fullscreenButton.style.pointerEvents = "auto";
});

document.getElementById("fullscreen-button").addEventListener("click", function () {
  if (this.classList.contains("disabled")) return;

  const iframe = document.getElementById("game-frame");
  if (iframe.requestFullscreen) {
    iframe.requestFullscreen();
  } else if (iframe.webkitRequestFullscreen) {
    iframe.webkitRequestFullscreen();
  } else if (iframe.msRequestFullscreen) {
    iframe.msRequestFullscreen();
  }
});
</script>
